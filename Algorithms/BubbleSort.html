<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BubbleSorting</title>
    <style> body {padding: 0; margin: 0;} </style>
    <script src="../p5.min.js"></script>
    <script src="../addons/p5.dom.min.js"></script>
    <script src="../addons/p5.sound.min.js"></script>
    <script type="text/javascript">
    var numbers = [];
    let i = 0;
    function setup() {
	  //random elements
	  numbers = new Array(windowWidth);
	  for (let i = 0; i < numbers.length; i++) {
	    numbers[i] = random(windowHeight);
	  }
	  frameRate(60);
	  createCanvas(windowWidth, windowHeight-5);
	}

    //Bubble sort	
    
	function draw() {
	  var sizeOfLine = (windowWidth)/numbers.length; 
	  background(0);
	  stroke(220,200 ,50);
	  strokeWeight(sizeOfLine);
	  var i = 0;
	  var j = 0;
	  	if(i < numbers.length)
		{
			for(j = 0 ; j <= numbers.length - i - 1 ; j++)
			{
				if(numbers[j] > numbers[j+1])
	      		{
	      			swap(numbers , j ,j+1);
	      		}
			}
			i++; 
		}
		else
		{
			console.log("finished");
			noLoop();
		}
	  for(var x = 0 ; x < numbers.length ; x++)
	  { 
	  		//** recolor based on percentage of maximum value
	  	 if( (0 <= numbers[x]) && (numbers[x] <= (windowHeight * 0.33)) )
	  	 {
	  	 	stroke(6 , 229, 50);
	  	 }
	  	 else if ((numbers[x] >= (windowHeight * 0.33)) && (numbers[x] <= (windowHeight * 0.66)))
	  	 {
	  	 	stroke(210 ,208 ,50);
	  	 }
	  	 else
	  	 {
	  	 	stroke(191 ,1 ,50);
	  	 }
	  	line((x * sizeOfLine) ,height ,(x * sizeOfLine) ,height - numbers[x]);
	  }
	}

	function swap(array , i ,j)
	{
		var temp = array[i];
		array[i] = array[j];
		array[j] = temp;
	}
	   //  function BubbleSort()
    // {
    // 	setup();
    // 	draw();
    // }
    </script>
  </head>
  <body>

  </body>
</html>
